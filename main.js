!function(){"use strict";var t={d:function(e,s){for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}};t.d({},{f:function(){return _}});class e{constructor(t,e,s){let{name:r,link:n,_id:i}=t;this._name=r,this._link=n,this._cardId=i,this._cardSelector=s,this._handleImageClick=e,this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".card__like-button"),this._cardImage=this._element.querySelector(".card__image"),this._trashButton=this._element.querySelector(".card__trash-button"),this._setEventListeners()}_setEventListeners(){this._likeButton.addEventListener("click",this._handleLike),this._trashButton.addEventListener("click",(()=>this._deleteCard())),this._cardImage.addEventListener("click",(()=>this._handleImageClick({link:this._link,name:this._name,id:this._cardId})))}_handleLike=()=>{this._likeButton.classList.toggle("card__like-button_active")};_deleteCard(){_(this._cardId).then((()=>{this._element.remove(),this._element=null})).catch((t=>{console.error(t.message)}))}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardImage.src=this._link,this._cardImage.alt=`Photo of ${this._name}`,this._element.querySelector(".card__title").textContent=this._name,this._element}}class s{constructor(t,e){let{items:s,renderer:r}=t;this._items=s,this._renderer=r,this._container=document.querySelector(e)}renderItems(){this._items.forEach((t=>{this._renderer(t)}))}addItem(t){this._container.prepend(t)}}class r{constructor(t){let{popupSelector:e}=t;this._popupElement=document.querySelector(e),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=t=>{"Escape"===t.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(t=>{t.target===t.currentTarget&&this.close()})),this._closeButton.addEventListener("click",(()=>this.close()))}}class n extends r{constructor(t,e){super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._formInputs=this._popupForm.querySelectorAll("input"),this._handleFormSubmit=e}_getInputValues(){const t={};return this._formInputs.forEach((e=>{t[e.name]=e.value})),t}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(t=>{t.preventDefault(),this._handleFormSubmit(this._getInputValues()),this._popupForm.reset()}))}}class i{constructor(t,e){this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=e,this._inputList=this._form.querySelectorAll(this._inputSelector),this._submitButton=this._form.querySelector(this._submitButtonSelector)}_showInputError(t){const e=this._form.querySelector(`#${t.id}-error`);t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}_hideInputError(t){const e=this._form.querySelector(`#${t.id}-error`);t.classList.remove(this._inputErrorClass),e.textContent="",e.classList.remove(this._errorClass)}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_toggleInputState(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}_checkValidity(t){return!t.validity.valid}_hasInvalidInput=()=>Array.from(this._inputList).some(this._checkValidity);_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._enableButton()}_setEventListeners(){this.disableButton(),this._inputList.forEach((t=>{t.addEventListener("input",(()=>{this._toggleInputState(t),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(t=>{t.preventDefault()})),this._setEventListeners()}resetValidation(){this._toggleButtonState(),this._inputList.forEach((t=>{this._hideInputError(t)}))}}const o=document.querySelector(".profile__button"),a=document.querySelector("#profile-title-input"),l=document.querySelector("#profile-subtitle-input"),c=document.querySelector(".profile__card-button"),u=document.forms.formAddCard,d=document.forms.profileForm,h=new class{constructor(t){this.baseUrl=t.baseUrl,this.headers=t.headers}_checkResponse(t){return t.ok?t.json():Promise.reject(`Error: ${t.status}`)}_request(t,e){return fetch(t,e).then(this._checkResponse)}getInitialCards(){return this._request(`${this.baseUrl}/cards`,{headers:this.headers})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"59d50a7d-5cbc-4141-92cc-d4a1e1821930","Content-Type":"application/json"}});function _(t){const e=`https://around-api.en.tripleten-services.com/v1/cards/${t}`;return console.log(e),fetch(e,{method:"DELETE",headers:{authorization:"59d50a7d-5cbc-4141-92cc-d4a1e1821930","Content-Type":"application/json"}}).then((t=>{if(!t.ok)throw new Error(`Failed to delete card: ${t.status}`)})).catch((t=>{throw console.error(t.message),t}))}const m={};var p;p={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input-error",errorClass:"modal__input-error_visible",modalSelector:".modal__form"},Array.from(document.querySelectorAll(p.modalSelector)).forEach((t=>{const e=new i(p,t),s=t.getAttribute("name");m[s]=e,e.enableValidation()}));const v=new class extends r{constructor(t){super({popupSelector:t}),this._image=this._popupElement.querySelector(".preview__image"),this._caption=this._popupElement.querySelector(".preview__caption"),super.setEventListeners()}open(t){this._caption.textContent=t.name,this._image.src=t.link,this._image.alt=`image ${t.name}`,super.open()}}("#preview_image");function E(t){return new e(t,(t=>{v.open(t)}),"#card-template").getView()}[].forEach((t=>{const e={id:t.id,name:t.name,link:t.link},s={method:"POST",headers:{authorization:"59d50a7d-5cbc-4141-92cc-d4a1e1821930","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("https://around-api.en.tripleten-services.com/v1/cards",s).then((t=>{if(!t.ok)throw new Error(`Failed to post card: ${t.status}`);return t.json()})).then((t=>{console.log("Card posted successfully:",t)})).catch((t=>{console.error(t.message)}))})),h.getInitialCards().then((t=>{const e=new s({items:t,renderer:t=>{e.addItem(E(t))}},".cards__list");e.renderItems()})).catch((t=>{console.error("Error fetching initial cards:",t)}));const b=new n("#modalAddCard",(t=>{const e=E(t);b.close(),cardSection.addItem(e),m[u.getAttribute("name")].disableButton()}));c.addEventListener("click",(()=>{b.open()})),b.setEventListeners();const f=new class{constructor(t,e){this._name=document.querySelector(t),this._subtitle=document.querySelector(e)}getUserInfo(){return{name:this._name.textContent,subtitle:this._subtitle.textContent}}setUserInfo(t,e){this._name.textContent=t,this._subtitle.textContent=e}}(".profile__title",".profile__subtitle"),g=new n("#modalEdit",(t=>{let{name:e,subtitle:s}=t;f.setUserInfo(e,s),g.close()}));o.addEventListener("click",(()=>{!function(){const t=f.getUserInfo();a.value=t.name,l.value=t.subtitle,g.open()}(),function(){const t=m[d.getAttribute("name")];t.resetValidation(),t.disableButton()}()})),g.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L0osS0FBS2lLLFVBQVl2SSxTQUFTakIsY0FBY3VKLEVBQzFDLENBRUFFLFdBQUFBLEdBQ0UsTUFBTyxDQUNMckssS0FBTUcsS0FBS0MsTUFBTStCLFlBQ2pCbUksU0FBVW5LLEtBQUtpSyxVQUFVakksWUFFN0IsQ0FFQW9JLFdBQUFBLENBQVl2SyxFQUFNc0ssR0FDaEJuSyxLQUFLQyxNQUFNK0IsWUFBY25DLEVBQ3pCRyxLQUFLaUssVUFBVWpJLFlBQWNtSSxDQUMvQixHRk5hLGtCQUNJLHNCRnlMYkUsRUFBZSxJQUFJekcsRUVoTVQsY0ZrTWRsRSxJQUF3QixJQUF2QixLQUFFRyxFQUFJLFNBQUVzSyxHQUFVekssRUFFakJvSyxFQUFTTSxZQUFZdkssRUFBTXNLLEdBRzNCRSxFQUFhaEgsT0FBTyxJQXdCeEJ1RCxFQUFXL0YsaUJBQWlCLFNBQVMsTUFmckMsV0FDRSxNQUFNeUosRUFBY1IsRUFBU0ksY0FDN0JyRCxFQUFnQnZDLE1BQVFnRyxFQUFZekssS0FDcENpSCxFQUFtQnhDLE1BQVFnRyxFQUFZSCxTQUN2Q0UsRUFBYW5ILE1BQ2YsQ0FXRXFILEdBUkYsV0FDRSxNQUFNQyxFQUFtQmpDLEVBQWNyQixFQUFZMEIsYUFBYSxTQUNoRTRCLEVBQWlCN0Qsa0JBQ2pCNkQsRUFBaUIxRSxlQUNuQixDQUtFMkUsRUFBa0IsSUFJcEJKLEVBQWE3RyxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcmFjdGljdW0vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ByYWN0aWN1bS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9BUEkvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb250YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiaW1wb3J0IHsgZGVsZXRlQ2FyZCB9IGZyb20gXCIuLi9wYWdlcy9pbmRleC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBsaW5rLCBfaWQgfSwgaGFuZGxlSW1hZ2VDbGljaywgY2FyZFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5fY2FyZElkID0gX2lkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7IC8vIEluaXRpYWxpemUgX2VsZW1lbnQgb25jZVxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTsgLy8gSW5pdGlhbGl6ZSBfbGlrZUJ1dHRvbiBvbmNlXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7IC8vIEluaXRpYWxpemUgX2NhcmRJbWFnZSBvbmNlXHJcbiAgICB0aGlzLl90cmFzaEJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaC1idXR0b25cIik7IC8vIEluaXRpYWxpemUgX3RyYXNoQnV0dG9uIG9uY2VcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpOyAvLyBDYWxsIF9zZXRFdmVudExpc3RlbmVycyBvbmNlXHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlKTtcclxuICAgIHRoaXMuX3RyYXNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9kZWxldGVDYXJkKCkpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7XHJcbiAgICAgICAgbGluazogdGhpcy5fbGluayxcclxuICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxyXG4gICAgICAgIGlkOiB0aGlzLl9jYXJkSWQsXHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgfTtcclxuXHJcbiAgX2RlbGV0ZUNhcmQoKSB7XHJcbiAgICBkZWxldGVDYXJkKHRoaXMuX2NhcmRJZCkgLy8gQ2FsbCB0aGUgZGVsZXRlQ2FyZCBmdW5jdGlvbiB3aXRoIHRoZSBjYXJkJ3MgSURcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fbmFtZX1gO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGUpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyBDbG9zZSB0aGUgcG9wdXAgd2hlbiB1c2VycyBjbGljayBvbiB0aGUgc2hhZGVkIGFyZWEgb3V0c2lkZSB0aGUgbW9kYWxcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcblxyXG4gICAgdGhpcy5fZm9ybUlucHV0cyA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcblxyXG4gIC8vIENvbGxlY3RzIGRhdGEgZnJvbSBhbGwgdGhlIGlucHV0IGZpZWxkcyBhbmQgcmV0dXJucyB0aGUgZGF0YSBhcyBhbiBvYmplY3RcclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAvLyBNYWtlIGEgaW5wdXQgZGF0YSBvYmplY3RcclxuICAgIGNvbnN0IGlucHV0T2JqZWN0ID0ge307XHJcbiAgICAvLyBOYW1lIGVhY2ggaW5wdXQgYnkgaXRzIHZhbHVlXHJcbiAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0T2JqZWN0W2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIC8vIFJldHVybiB0aGUgZGF0YSBhcyBhbiBvYmplY3RcclxuICAgIHJldHVybiBpbnB1dE9iamVjdDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy8gQWRkIHRoZSAnY2xpY2snIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjbG9zZSBpY29uXHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIC8vIEFkZCB0aGUgJ3N1Ym1pdCcgZXZlbnQgaGFuZGxlciB0byB0aGUgZm9ybVxyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm0gPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAvLyBHZW5lcmF0ZSB0aGUgaWQgZm9yIGVycm9yIGZvciB0aGUgdGFyZ2V0IGVsZW1lbnRcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIC8vIEFkZCB0aGUgaW5wdXQgZXJyb3IgY2xhc3MgdG8gdGhlIGVsZW1lbnQncyBjbGFzcyBsaXN0XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgLy8gQ2hhbmdlIHRoZSB0ZXh0IGNvbnRlbnQgdG8gdGhlIGVycm9yIG1lc3NhZ2VcclxuICAgIGVycm9yTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAvLyBBZGQgdGhlIGVycm9yIGNsYXNzIHRvIHRoZSBlcnJvciBtZXNzYWdlJ3MgY2xhc3MgbGlzdFxyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgLy8gR2VuZXJhdGUgdGhlIGlkIGZvciBlcnJvciBmb3IgdGhlIHRhcmdldCBlbGVtZW50XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgLy8gQWRkIHRoZSBpbnB1dCBlcnJvciBjbGFzcyB0byB0aGUgZWxlbWVudCdzIGNsYXNzIGxpc3RcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcblxyXG4gICAgLy8gQ2xlYXIgdGhlIGVycm9yIG1lc3NhZ2UgZnJvbSB0aGUgdGV4dCBjb250ZW50XHJcbiAgICBlcnJvck1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuXHJcbiAgICAvLyBBZGQgdGhlIGVycm9yIGNsYXNzIHRvIHRoZSBlcnJvciBtZXNzYWdlJ3MgY2xhc3MgbGlzdFxyXG4gICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8gRGlzYWJsZSBmb3JtIGJ1dHRvblxyXG4gIGRpc2FibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuXHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gRW5hYmxlIGZvcm0gYnV0dG9uXHJcbiAgX2VuYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvLyBTaG93IG9yIGhpZGUgaW5wdXQgZXJyb3JzIGJhc2VkIG9uIHRoZSBjdXJyZW50IGlucHV0IGVsZW1lbnQncyB2YWxpZGl0eVxyXG4gIF90b2dnbGVJbnB1dFN0YXRlKGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgLy8gSWYgaW5wdXQgZWxlbWVudCBpcyBpbnZhbGlkLCBzaG93IGlucHV0IGVycm9yIG1lc3NhZ2VcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIE90aGVyd2lzZSwgaGlkZSBpbnB1dCBlcnJvciBtZXNzYWdlXHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBDaGVjayBpZiB0aGUgaW5wdXQgZWxlbWVudCBpcyBpbnZhbGlkXHJcbiAgX2NoZWNrVmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGlmIGFueSBlbGVtZW50IGluIHRoZSBpbnB1dCBsaXN0IGlzIGludmFsaWRcclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+XHJcbiAgICBBcnJheS5mcm9tKHRoaXMuX2lucHV0TGlzdCkuc29tZSh0aGlzLl9jaGVja1ZhbGlkaXR5KTtcclxuXHJcbiAgLy8gVG9nZ2xlIGJ1dHRvbiBkZXBlbmRpbmcgb24gdGhlIGlucHV0J3MgdmFsaWRpdHlcclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICAvLyBJZiB0aGUgaW5wdXQgaXMgdmFsaWQsIGRpc2FibGUgdGhlIGJ1dHRvblxyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gT3RoZXJ3aXNlLCBlbmFibGUgdGhlIGJ1dHRvblxyXG4gICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIGZvcm0gZWxlbWVudHMgYmFzZWQgb24gdGhlIHVzZXIgaW5wdXRzJyB2YWxpZGl0eVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vIERpc2FibGUgYnV0dG9uXHJcbiAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuXHJcbiAgICAvLyBMaXN0ZW4gZm9yIHRoZSBcInR5cGVcIiBldmVudCBvbiBlYWNoIGlucHV0XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUlucHV0U3RhdGUoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gVmFsaWRhdGUgZm9ybVxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIC8vIFByZXZlbnQgdGhlIGZvcm0ncyBkZWZhdWx0IGJlaGF2aW91clxyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gU2V0IGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIC8vIFJlc2V0IHN1Ym1pdCBidXR0b25cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgLy8gQ2xlYXIgZXJyb3IgbWVzc2FnZXNcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgQXBpIGZyb20gXCIuLi9BUEkvQXBpLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7IHZhbGlkYXRpb25TZXR0aW5ncywgZm9ybVNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnRhbnRzLmpzXCI7XHJcblxyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcblxyXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25cIik7XHJcbmNvbnN0IG1vZGFsSW5wdXRUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS10aXRsZS1pbnB1dFwiKTtcclxuY29uc3QgbW9kYWxJbnB1dFN1YnRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXN1YnRpdGxlLWlucHV0XCIpO1xyXG5jb25zdCBhZGRDYXJkQnV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19jYXJkLWJ1dHRvblwiKTtcclxuXHJcbmNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJmb3JtQWRkQ2FyZFwiXTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGVGb3JtXCJdO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiNTlkNTBhN2QtNWNiYy00MTQxLTkyY2MtZDRhMWUxODIxOTMwXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNhcmQoX0lkKSB7XHJcbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7X0lkfWA7XHJcbiAgY29uc29sZS5sb2codXJsKTtcclxuICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBhdXRob3JpemF0aW9uOiBcIjU5ZDUwYTdkLTVjYmMtNDE0MS05MmNjLWQ0YTFlMTgyMTkzMFwiLFxyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucylcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKCFyZXMub2spIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgY2FyZDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3JtIFZhbGlkYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuLy8gQ3JlYXRlIGEgZm9ybSB2YWxpZGF0b3JzIG9iamVjdFxyXG5jb25zdCBmb3JtVmFsaWRhdG9yID0ge307XHJcblxyXG4vLyBDcmVhdGUgdmFsaWRhdG9yIGluc3RhbmNlcyBmb3IgYWxsIGZvcm1zXHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAodmFsaWRhdGlvblNldHRpbmdzKSA9PiB7XHJcbiAgLy8gQ3JlYXRlIGFuIGFycmF5IG9mIGFsbCBmb3Jtc1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvblNldHRpbmdzLm1vZGFsU2VsZWN0b3IpXHJcbiAgKTtcclxuXHJcbiAgLy8gQ3JlYXRlIGEgdmFsaWRhdG9yIGZvciBlYWNoIGZvcm1cclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgLy8gQ3JlYXRlIGEgdmFsaWRhdG9yIGluc3RhbmNlIGZvciB0aGUgY3VycmVudCBpbnN0YW5jZVxyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBmb3JtRWxlbWVudCk7XHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICAvLyBTdG9yZSB0aGUgY3VycmVudCBmb3JtIHZhbGlkYXRvciBpbiB0aGUgdmFsaWRhdG9ycyBvYmplY3RcclxuICAgIGZvcm1WYWxpZGF0b3JbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG5cclxuICAgIC8vIEVuYWJsZSB2YWxpZGF0aW9uIGZvciB0aGUgY3VycmVudCBmb3JtXHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25TZXR0aW5ncyk7XHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9wdXAgSW1hZ2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4vLyBDcmVhdGUgaW1hZ2UgcG9wdXAgaW5zdGFuY2VcclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShmb3JtU2V0dGluZ3MubW9kYWxJbWFnZSk7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FyZCBTZWN0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXTtcclxuZnVuY3Rpb24gcmVuZGVyQ2FyZChjYXJkRGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGNhcmREYXRhLFxyXG4gICAgKGltYWdlRGF0YSkgPT4ge1xyXG4gICAgICBpbWFnZVBvcHVwLm9wZW4oaW1hZ2VEYXRhKTtcclxuICAgIH0sXHJcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCJcclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcG9zdEluaXRpYWxDYXJkKCkge1xyXG4gIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcIjtcclxuXHJcbiAgaW5pdGlhbENhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcclxuICAgIGNvbnN0IHBheWxvYWQgPSB7IGlkOiBjYXJkLmlkLCBuYW1lOiBjYXJkLm5hbWUsIGxpbms6IGNhcmQubGluayB9O1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiNTlkNTBhN2QtNWNiYy00MTQxLTkyY2MtZDRhMWUxODIxOTMwXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxyXG4gICAgfTtcclxuICAgIGZldGNoKHVybCwgb3B0aW9ucylcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmICghcmVzLm9rKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwb3N0IGNhcmQ6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDYXJkIHBvc3RlZCBzdWNjZXNzZnVsbHk6XCIsIGRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZldGNoSW5pdGlhbENhcmRzKCkge1xyXG4gIGFwaVxyXG4gICAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgICAudGhlbigoY2FyZHMpID0+IHtcclxuICAgICAgY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpdGVtczogY2FyZHMsXHJcbiAgICAgICAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0ocmVuZGVyQ2FyZChjYXJkRGF0YSkpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiLmNhcmRzX19saXN0XCJcclxuICAgICAgKTtcclxuICAgICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgaW5pdGlhbCBjYXJkczpcIiwgZXJyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBMb2FkIGFkZGl0aW9uYWwgZGF0YSB1c2luZyBfbG9hZERhdGEoKSBtZXRob2RcclxuLy8gYXBpXHJcbi8vICAgLl9sb2FkRGF0YSgpXHJcbi8vICAgLnRoZW4oKGFkZGl0aW9uYWxEYXRhKSA9PiB7XHJcbi8vICAgICAvLyBIYW5kbGUgYWRkaXRpb25hbCBkYXRhIGlmIG5lZWRlZFxyXG4vLyAgIH0pXHJcbi8vICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4vLyAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgYWRkaXRpb25hbCBkYXRhOlwiLCBlcnJvcik7XHJcbi8vICAgfSk7XHJcbnBvc3RJbml0aWFsQ2FyZCgpO1xyXG5mZXRjaEluaXRpYWxDYXJkcygpO1xyXG5cclxuLy8gfVxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGQgQ3JhZCAgRm9ybSAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuLy8gQ3JlYXRlIHRoZSBhZGQgZm9ybSBpbnN0YW5jZVxyXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShmb3JtU2V0dGluZ3MubW9kYWxBZGRDYXJkLCAoZGF0YSkgPT4ge1xyXG4gIC8vIENyZWF0ZSBhIG5ldyBjYXJkXHJcbiAgY29uc3QgbmV3Q2FyZCA9IHJlbmRlckNhcmQoZGF0YSk7XHJcbiAgLy8gQ2xvc2UgdGhlIGFkZCBmb3JtXHJcbiAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgLy8gQWRkIHRoZSBuZXcgY2FyZCB0byB0aGUgc2VjdGlvblxyXG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW0obmV3Q2FyZCk7XHJcbiAgZm9ybVZhbGlkYXRvclthZGRDYXJkRm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5kaXNhYmxlQnV0dG9uKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gb3BlbkNhcmRGb3JtKCkge1xyXG4gIC8vIE9wZW4gdGhlIGFkZCBjYXJkIGZvcm1cclxuICBhZGRDYXJkUG9wdXAub3BlbigpO1xyXG59XHJcbi8vIE9wZW4gdGhlIG1vZGFsIHdoZW4gdXNlcnMgY2xpY2sgb24gdGhlIGFkZCBidXR0b25cclxuYWRkQ2FyZEJ1dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIG9wZW5DYXJkRm9ybSgpO1xyXG59KTtcclxuXHJcbi8vIFNldCBhZGQgZm9ybSBldmVudCBsaXN0ZW5lcnNcclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9maWxlIEluZm9ybWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4vLyBDcmVhdGUgdGhlIHVzZXIgaW5mbyBpbnN0YW5jZVxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcclxuICBmb3JtU2V0dGluZ3MucHJvZmlsZU5hbWUsXHJcbiAgZm9ybVNldHRpbmdzLnByb2ZpbGVTdWJ0aXRsZVxyXG4pO1xyXG4vLyBDcmVhdGUgdGhlIGVkaXQgZm9ybSBpbnN0YW5jZVxyXG5jb25zdCBwcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBmb3JtU2V0dGluZ3MubW9kYWxQcm9maWxlLFxyXG4gICh7IG5hbWUsIHN1YnRpdGxlIH0pID0+IHtcclxuICAgIC8vIEFkZCB0aGUgZm9ybSdzIGlucHV0IHRvIHRoZSBwcm9maWxlIHNlY3Rpb25cclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKG5hbWUsIHN1YnRpdGxlKTtcclxuXHJcbiAgICAvLyBDbG9zZSB0aGUgZWRpdCBmb3JtXHJcbiAgICBwcm9maWxlUG9wdXAuY2xvc2UoKTtcclxuICB9XHJcbik7XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFZGl0IEZvcm0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gb3BlbiB0aGUgZWRpdCBtb2RhbCBhbmQgcG9wdWxhdGUgZm9ybSBmaWVsZHMgd2l0aCBwcm9maWxlIGluZm9cclxuZnVuY3Rpb24gb3BlbkVkaXRGb3JtKCkge1xyXG4gIGNvbnN0IHByb2ZpbGVJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBtb2RhbElucHV0VGl0bGUudmFsdWUgPSBwcm9maWxlSW5mby5uYW1lO1xyXG4gIG1vZGFsSW5wdXRTdWJ0aXRsZS52YWx1ZSA9IHByb2ZpbGVJbmZvLnN1YnRpdGxlO1xyXG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGRpc2FibGUgYnV0dG9ucyBhbmQgcmVzZXQgdmFsaWRhdGlvblxyXG5mdW5jdGlvbiByZXNldFByb2ZpbGVGb3JtKCkge1xyXG4gIGNvbnN0IHByb2ZpbGVWYWxpZGF0b3IgPSBmb3JtVmFsaWRhdG9yW3Byb2ZpbGVGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIildO1xyXG4gIHByb2ZpbGVWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcHJvZmlsZVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XHJcbn1cclxuXHJcbi8vIEV2ZW50IGxpc3RlbmVyIGZvciBlZGl0IGJ1dHRvbiBjbGlja1xyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgb3BlbkVkaXRGb3JtKCk7XHJcbiAgcmVzZXRQcm9maWxlRm9ybSgpO1xyXG59KTtcclxuXHJcbi8vIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBwcm9maWxlIHBvcHVwIG1vZGFsXHJcbnByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgX3JlcXVlc3QodXJsLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XHJcbiAgfVxyXG4gIC8vICAgX2xvYWREYXRhKCkge1xyXG4gIC8vICAgICByZXR1cm4gdGhpcy5nZXRJbml0aWFsQ2FyZHMoKTtcclxuICAvLyAgIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgZm9ybVNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBjYXJkVGVtcGxhdGU6IFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICBtb2RhbEFkZENhcmQ6IFwiI21vZGFsQWRkQ2FyZFwiLFxyXG4gIG1vZGFsUHJvZmlsZTogXCIjbW9kYWxFZGl0XCIsXHJcbiAgcHJvZmlsZUZvcm06IFwiI2VkaXRfX3Byb2ZpbGVfX2Zvcm1cIixcclxuICBtb2RhbEltYWdlOiBcIiNwcmV2aWV3X2ltYWdlXCIsXHJcbiAgaW1hZ2VNb2RhbENvbnRhaW5lcjogXCIucHJldmlld19fY29udGFpbmVyXCIsXHJcbiAgaW1hZ2VzOiBcIi5jYXJkXCIsXHJcbiAgY2FyZExpc3Q6IFwiLmNhcmRzX19saXN0XCIsXHJcbiAgcHJvZmlsZU5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgcHJvZmlsZVN1YnRpdGxlOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxyXG59O1xyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvblNldHRpbmdzID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxuICBtb2RhbFNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG59O1xyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnByZXZpZXdfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnByZXZpZXdfX2NhcHRpb25cIik7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLy8gRGVmaW5lIG9wZW5JbWFnZSBhcyBhIHJlZ3VsYXIgbWV0aG9kXHJcbiAgb3BlbihpbWFnZURhdGEpIHtcclxuICAgIHRoaXMuX2NhcHRpb24udGV4dENvbnRlbnQgPSBpbWFnZURhdGEubmFtZTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGltYWdlRGF0YS5saW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYGltYWdlICR7aW1hZ2VEYXRhLm5hbWV9YDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWVTZWxlY3Rvciwgc3VidGl0bGVTZWxjdG9yKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fc3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN1YnRpdGxlU2VsY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIHN1YnRpdGxlOiB0aGlzLl9zdWJ0aXRsZS50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuYW1lLCBzdWJ0aXRsZSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9zdWJ0aXRsZS50ZXh0Q29udGVudCA9IHN1YnRpdGxlO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiaGFuZGxlSW1hZ2VDbGljayIsImNhcmRTZWxlY3RvciIsIm5hbWUiLCJsaW5rIiwiX2lkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZElkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfbGlrZUJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJfY2FyZEltYWdlIiwiX3RyYXNoQnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlIiwiX2RlbGV0ZUNhcmQiLCJpZCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImRlbGV0ZUNhcmQiLCJ0aGVuIiwicmVtb3ZlIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsImZvckVhY2giLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIm9wZW4iLCJhZGQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJldmVudCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9mb3JtSW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRPYmplY3QiLCJpbnB1dCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiX3N1Ym1pdEJ1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZUVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsIl9lbmFibGVCdXR0b24iLCJfdG9nZ2xlSW5wdXRTdGF0ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfY2hlY2tWYWxpZGl0eSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJBcnJheSIsImZyb20iLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsImVkaXRCdXR0b24iLCJtb2RhbElucHV0VGl0bGUiLCJtb2RhbElucHV0U3VidGl0bGUiLCJhZGRDYXJkQnV0IiwiYWRkQ2FyZEZvcm0iLCJmb3JtcyIsInByb2ZpbGVGb3JtIiwiYXBpIiwib3B0aW9ucyIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX3JlcXVlc3QiLCJ1cmwiLCJmZXRjaCIsImdldEluaXRpYWxDYXJkcyIsImF1dGhvcml6YXRpb24iLCJfSWQiLCJsb2ciLCJtZXRob2QiLCJFcnJvciIsImZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0aW9uU2V0dGluZ3MiLCJtb2RhbFNlbGVjdG9yIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJpbWFnZVBvcHVwIiwiX2ltYWdlIiwiX2NhcHRpb24iLCJpbWFnZURhdGEiLCJyZW5kZXJDYXJkIiwiY2FyZERhdGEiLCJjYXJkIiwicGF5bG9hZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsImNhcmRzIiwiY2FyZFNlY3Rpb24iLCJlcnIiLCJhZGRDYXJkUG9wdXAiLCJuZXdDYXJkIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJzdWJ0aXRsZVNlbGN0b3IiLCJfc3VidGl0bGUiLCJnZXRVc2VySW5mbyIsInN1YnRpdGxlIiwic2V0VXNlckluZm8iLCJwcm9maWxlUG9wdXAiLCJwcm9maWxlSW5mbyIsIm9wZW5FZGl0Rm9ybSIsInByb2ZpbGVWYWxpZGF0b3IiLCJyZXNldFByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==